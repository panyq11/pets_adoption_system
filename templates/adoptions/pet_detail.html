{% extends 'adoptions/base.html' %}
{% load static %}
{% block content %}
<div class="container mt-4">
  <div class="row">
    <!-- 左侧图片展示，可以做成主图 + 小图缩略图 -->
    <div class="col-md-6">
      <!-- 主图 -->
      {% with pet.images.all as all_images %}
  {% if all_images %}
    <!-- 主图：使用第一张图片 -->
    {% with all_images|first as main_image %}
      <div class="mb-3">
        <img src="{{ main_image.pet_image.url }}" class="img-fluid rounded" alt="{{ pet.name }} Main">
      </div>
    {% endwith %}
    <!-- 缩略图列表：循环显示所有图片 -->
    <div class="d-flex flex-wrap">
      {% for image in all_images %}
        <img
          src="{{ image.pet_image.url }}"
          class="img-thumbnail me-2 mb-2"
          style="width: 100px; height: 100px; object-fit: cover;"
          alt="{{ pet.name }} Thumbnail"
        >
      {% endfor %}
    </div>
  {% else %}
    <!-- 如果没有图片，显示默认图片 -->
    <div class="mb-3">
      <img src="{% static 'images/default_pet.jpg' %}" class="img-fluid rounded" alt="{{ pet.name }} Main">
    </div>
  {% endif %}
{% endwith %}
    </div>

    <!-- 右侧宠物信息 -->
<div class="col-md-6">
  <h2>Hi, I'm {{ pet.name }}!</h2>
  <hr>
  <h5>About Me</h5>
  <ul class="list-unstyled">
    <li><strong>Breed:</strong> {{ pet.breed }}</li>
    <li><strong>Age:</strong>
      {% comment %}例如将年龄小于等于2岁视为 Young，大于2岁视为 Adult{% endcomment %}
      {% if pet.age|default:0 <= 2 %}Young{% else %}Adult{% endif %}
    </li>
    <li><strong>Sex:</strong> {{ pet.sex }}</li>
    <li><strong>Pet ID:</strong> {{ pet.pet_id }}</li>
  </ul>
  <hr>
  <h5>My Details</h5>
  <ul class="list-unstyled">
    <li><strong>Vaccination Status:</strong>
      {% if pet.vaccinated %}
        Vaccinated
      {% else %}
        Not Vaccinated
      {% endif %}
    </li>
    <li><strong>Preferences:</strong>
      {% if pet.preferences %}
        {{ pet.preferences }}
      {% else %}
        With Kids, With Other Pets
      {% endif %}
    </li>
  </ul>
  <div class="mt-4">
    <a href="{% url 'adoptions:apply_for_adoption' pet_id=pet.pet_id %}" class="btn btn-orange">Apply For Adoption</a>
  </div>
</div>
  </div>
</div>
{% endblock %}
